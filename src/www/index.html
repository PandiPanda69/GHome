<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" >
  <head>
    <title>.:: GHome - Interface de gestion ::.</title>
    <meta http-equiv="Content-Type" content="text/html; utf-8" />
    <script type="text/javascript" src="js/jquery-1.7.1.min.js"></script>
    <link rel="stylesheet" href="style/style.css" type="text/css" media="screen" />
  </head>
  <body>

	<script type="text/javascript">
		function update_fields() {
			/* On raffraichit les données */
			$.ajax( {
				dataType: "json",
				url: "data/raw_data.json",
				success: function( data ) {
					$("#val_temp").html( data.raw_data.temperature );
					$("#val_humi").html( data.raw_data.humidity );
					$("#val_light").html( data.raw_data.lightness );
				}
			} );

			$("#notifier_box").html( "<img src=\"img/refresh.png\"> <span>Donn&eacute;es actualis&eacute;es.</span>" );
			$("#notifier_box").slideDown().delay(2000).slideUp();
		}

		$(document).ready(

			function() {

				update_fields();
				setInterval( update_fields, 30000 );

				/* Clique sur les onglets */
				$("a.tab").click(
					function() {
						/* Si l'élément courant n'est pas déjà actif */
						if( ! $(this).hasClass( "active" ) )
						{
							/* On change l'élément actif par celui en cours et on fait des effets jolis */
							$(".active").removeClass( "active" );
							$(this).addClass( "active" );
							$(".content").slideUp();

							var contenu_aff = $(this).attr( "alt" );
							$("#" + contenu_aff).slideDown();
						}

						update_fields();

						return;
					}
				);
			}
		);
	</script>

	<div id="notifier_box">
		<span>&nbsp;</span>
	</div>

	<div id="tabbed_box" class="tabbed_box">

	<h4>GHome Project</h4>

	<div class="tabbed_area">
		<ul class="tabs">
			<li><a href="#" alt="content_1" class="tab active">G&eacute;n&eacute;ral</a></li>
			<li><a href="#" alt="content_2" class="tab">Configuration</a></li>
			<li><a href="#" alt="content_3" class="tab">Aide</a></li>
		</ul>

		<div id="content_1" class="content">
			<h3>G&eacute;n&eacute;ral</h3>
			<div class="table">
				<div class="row">
					<img src="img/temp.jpg"/>
					<span>Temp&eacute;rature : </span>
					<span class="val"><i id="val_temp">##</i>&deg;C</span>
				</div>
			

				<div class="row">
				<img src="img/humidity.gif" />
					<span>Humidit&eacute; : </span>
					<span class="val"><i id="val_humi">##</i>%</span>
				</div>

				<div class="row">
				<img src="img/light.jpg" />
					<span>Luminosit&eacute; : </span>
					<span class="val"><i id="val_light">##</i>%</span>
				</div>
			</div>
		</div>

		<div id="content_2" class="content">
			<p>Le contenu de configuration</p>
		</div>

		<div id="content_3" class="content">
			<p>Getting some help</p>
		</div>
	</div>

	<div id="foot_box">
		<p>GHome Project by H4314</p>
		<p>Cherche pas, tu peux pas test.</p>
		<p>Copyleft 2012</p>
	</div>

	</div>


  </body>
</html>
